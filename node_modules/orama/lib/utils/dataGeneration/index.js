'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTimeSeries = undefined;

var _map2 = require('lodash/map');

var _map3 = _interopRequireDefault(_map2);

var _forEach2 = require('lodash/forEach');

var _forEach3 = _interopRequireDefault(_forEach2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Copyright 2017 Kensho Technologies, Inc.

var getTimeSeries = exports.getTimeSeries = function getTimeSeries(range) {
  var coeff = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.05;

  function bump(_array) {
    var x = 10 / (0.01 + Math.random());
    var y = 5 * Math.random() - 0.01;
    var z = 10 / (0.01 + Math.random());
    (0, _forEach3.default)(range, function (d, i) {
      var w = (i / range.length - y) * z;
      _array[i] += x * Math.exp(-w * w);
    });
  }
  var array = [];
  (0, _forEach3.default)(range, function (d, i) {
    array[i] = coeff + coeff * Math.random();
  });
  (0, _forEach3.default)(range, function () {
    return bump(array);
  });
  return (0, _map3.default)(array, function (d, i) {
    return { x: range[i], y: Math.max(0, d) };
  });
};